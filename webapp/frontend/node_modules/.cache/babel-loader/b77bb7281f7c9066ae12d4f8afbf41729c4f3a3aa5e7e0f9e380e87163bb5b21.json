{"ast":null,"code":"import React from'react';import'./App.css';import{SignedIn,SignedOut,SignInButton,UserButton,useUser}from'@clerk/clerk-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const{user}=useUser();return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"App-header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"header-content\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome to TPC's CA lobby search\"}),/*#__PURE__*/_jsx(SignedOut,{children:/*#__PURE__*/_jsx(SignInButton,{mode:\"modal\",children:/*#__PURE__*/_jsx(\"button\",{className:\"sign-in-btn\",children:\"Sign In\"})})}),/*#__PURE__*/_jsx(SignedIn,{children:/*#__PURE__*/_jsx(UserButton,{})})]})}),/*#__PURE__*/_jsxs(\"main\",{className:\"App-main\",children:[/*#__PURE__*/_jsx(SignedOut,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"welcome-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Welcome to TPC's CA lobby search\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Please sign in to access the search dashboard.\"})]})}),/*#__PURE__*/_jsx(SignedIn,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-section\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Welcome back, \",(user===null||user===void 0?void 0:user.firstName)||'User',\"!\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"API Health Check\"}),/*#__PURE__*/_jsx(APIHealthCheck,{})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"System Status\"}),/*#__PURE__*/_jsx(SystemStatus,{})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Data Access\"}),/*#__PURE__*/_jsx(DataAccessTest,{})]})]})]})})]})]});}// API Components\nfunction APIHealthCheck(){const[health,setHealth]=React.useState(null);const[loading,setLoading]=React.useState(true);React.useEffect(()=>{fetch('/api/health').then(res=>res.json()).then(data=>{setHealth(data);setLoading(false);}).catch(err=>{console.error('Health check failed:',err);setLoading(false);});},[]);if(loading)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});return/*#__PURE__*/_jsx(\"div\",{className:\"api-result\",children:health?/*#__PURE__*/_jsxs(\"div\",{className:\"success\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Status: \",health.status]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Message: \",health.message]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Version: \",health.version]}),health.source&&/*#__PURE__*/_jsxs(\"p\",{children:[\"Source: \",health.source]})]}):/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:\"Failed to load health status\"})});}function SystemStatus(){const[status,setStatus]=React.useState(null);const[loading,setLoading]=React.useState(true);React.useEffect(()=>{fetch('/api/status').then(res=>res.json()).then(data=>{setStatus(data);setLoading(false);}).catch(err=>{console.error('Status check failed:',err);setLoading(false);});},[]);if(loading)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});return/*#__PURE__*/_jsx(\"div\",{className:\"api-result\",children:status?/*#__PURE__*/_jsxs(\"div\",{className:\"success\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Environment: \",status.environment]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Mock Data: \",status.mock_data]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Debug: \",status.debug]})]}):/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:\"Failed to load system status\"})});}function DataAccessTest(){const[data,setData]=React.useState(null);const[loading,setLoading]=React.useState(true);React.useEffect(()=>{fetch('/api/test-data-access').then(res=>res.json()).then(data=>{setData(data);setLoading(false);}).catch(err=>{console.error('Data access test failed:',err);setLoading(false);});},[]);if(loading)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});return/*#__PURE__*/_jsx(\"div\",{className:\"api-result\",children:data?/*#__PURE__*/_jsxs(\"div\",{className:\"success\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Status: \",data.status]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Message: \",data.message]}),data.available_modules&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Available Modules:\"}),/*#__PURE__*/_jsx(\"ul\",{children:data.available_modules.map((module,idx)=>/*#__PURE__*/_jsx(\"li\",{children:module},idx))})]})]}):/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:\"Failed to load data access status\"})});}export default App;","map":{"version":3,"names":["React","SignedIn","SignedOut","SignInButton","UserButton","useUser","jsx","_jsx","jsxs","_jsxs","App","user","className","children","mode","firstName","APIHealthCheck","SystemStatus","DataAccessTest","health","setHealth","useState","loading","setLoading","useEffect","fetch","then","res","json","data","catch","err","console","error","status","message","version","source","setStatus","environment","mock_data","debug","setData","available_modules","map","module","idx"],"sources":["/Users/michaelingram/Documents/GitHub/CA_lobby/webapp/frontend/src/App.js"],"sourcesContent":["import React from 'react';\nimport './App.css';\nimport {\n  SignedIn,\n  SignedOut,\n  SignInButton,\n  UserButton,\n  useUser\n} from '@clerk/clerk-react';\n\nfunction App() {\n  const { user } = useUser();\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <div className=\"header-content\">\n          <h1>Welcome to TPC's CA lobby search</h1>\n          <SignedOut>\n            <SignInButton mode=\"modal\">\n              <button className=\"sign-in-btn\">Sign In</button>\n            </SignInButton>\n          </SignedOut>\n          <SignedIn>\n            <UserButton />\n          </SignedIn>\n        </div>\n      </header>\n\n      <main className=\"App-main\">\n        <SignedOut>\n          <div className=\"welcome-section\">\n            <h2>Welcome to TPC's CA lobby search</h2>\n            <p>Please sign in to access the search dashboard.</p>\n          </div>\n        </SignedOut>\n\n        <SignedIn>\n          <div className=\"dashboard-section\">\n            <h2>Welcome back, {user?.firstName || 'User'}!</h2>\n\n            <div className=\"dashboard-grid\">\n              <div className=\"dashboard-card\">\n                <h3>API Health Check</h3>\n                <APIHealthCheck />\n              </div>\n\n              <div className=\"dashboard-card\">\n                <h3>System Status</h3>\n                <SystemStatus />\n              </div>\n\n              <div className=\"dashboard-card\">\n                <h3>Data Access</h3>\n                <DataAccessTest />\n              </div>\n            </div>\n          </div>\n        </SignedIn>\n      </main>\n    </div>\n  );\n}\n\n// API Components\nfunction APIHealthCheck() {\n  const [health, setHealth] = React.useState(null);\n  const [loading, setLoading] = React.useState(true);\n\n  React.useEffect(() => {\n    fetch('/api/health')\n      .then(res => res.json())\n      .then(data => {\n        setHealth(data);\n        setLoading(false);\n      })\n      .catch(err => {\n        console.error('Health check failed:', err);\n        setLoading(false);\n      });\n  }, []);\n\n  if (loading) return <div>Loading...</div>;\n\n  return (\n    <div className=\"api-result\">\n      {health ? (\n        <div className=\"success\">\n          <p>Status: {health.status}</p>\n          <p>Message: {health.message}</p>\n          <p>Version: {health.version}</p>\n          {health.source && <p>Source: {health.source}</p>}\n        </div>\n      ) : (\n        <div className=\"error\">Failed to load health status</div>\n      )}\n    </div>\n  );\n}\n\nfunction SystemStatus() {\n  const [status, setStatus] = React.useState(null);\n  const [loading, setLoading] = React.useState(true);\n\n  React.useEffect(() => {\n    fetch('/api/status')\n      .then(res => res.json())\n      .then(data => {\n        setStatus(data);\n        setLoading(false);\n      })\n      .catch(err => {\n        console.error('Status check failed:', err);\n        setLoading(false);\n      });\n  }, []);\n\n  if (loading) return <div>Loading...</div>;\n\n  return (\n    <div className=\"api-result\">\n      {status ? (\n        <div className=\"success\">\n          <p>Environment: {status.environment}</p>\n          <p>Mock Data: {status.mock_data}</p>\n          <p>Debug: {status.debug}</p>\n        </div>\n      ) : (\n        <div className=\"error\">Failed to load system status</div>\n      )}\n    </div>\n  );\n}\n\nfunction DataAccessTest() {\n  const [data, setData] = React.useState(null);\n  const [loading, setLoading] = React.useState(true);\n\n  React.useEffect(() => {\n    fetch('/api/test-data-access')\n      .then(res => res.json())\n      .then(data => {\n        setData(data);\n        setLoading(false);\n      })\n      .catch(err => {\n        console.error('Data access test failed:', err);\n        setLoading(false);\n      });\n  }, []);\n\n  if (loading) return <div>Loading...</div>;\n\n  return (\n    <div className=\"api-result\">\n      {data ? (\n        <div className=\"success\">\n          <p>Status: {data.status}</p>\n          <p>Message: {data.message}</p>\n          {data.available_modules && (\n            <div>\n              <p>Available Modules:</p>\n              <ul>\n                {data.available_modules.map((module, idx) => (\n                  <li key={idx}>{module}</li>\n                ))}\n              </ul>\n            </div>\n          )}\n        </div>\n      ) : (\n        <div className=\"error\">Failed to load data access status</div>\n      )}\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}